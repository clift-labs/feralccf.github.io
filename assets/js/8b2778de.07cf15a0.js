"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7634],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>b});var n=r(7294);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var i=n.createContext({}),l=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},p=function(e){var t=l(e.components);return n.createElement(i.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,s=e.mdxType,o=e.originalType,i=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=l(r),f=s,b=u["".concat(i,".").concat(f)]||u[f]||d[f]||o;return r?n.createElement(b,a(a({ref:t},p),{},{components:r})):n.createElement(b,a({ref:t},p))}));function b(e,t){var r=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var o=r.length,a=new Array(o);a[0]=f;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c[u]="string"==typeof e?e:s,a[1]=c;for(var l=2;l<o;l++)a[l]=r[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},3448:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var n=r(7462),s=(r(7294),r(3905));const o={id:"events-index",title:"Events"},a=void 0,c={unversionedId:"events/events-index",id:"events/events-index",title:"Events",description:"There are several events dispatched in the execution of a process. There is a start",source:"@site/docs/events/index.md",sourceDirName:"events",slug:"/events/",permalink:"/docs/events/",draft:!1,tags:[],version:"current",frontMatter:{id:"events-index",title:"Events"},sidebar:"tutorialSidebar",previous:{title:"Context",permalink:"/docs/context/"},next:{title:"Symfony Profiler",permalink:"/docs/symfony-profiler/"}},i={},l=[{value:"CycleDetectionProcessSubscriber",id:"cycledetectionprocesssubscriber",level:2},{value:"LoggerProcessSubscriber",id:"loggerprocesssubscriber",level:2},{value:"ProfilerProcessSubscriber",id:"profilerprocesssubscriber",level:2}],p={toc:l},u="wrapper";function d(e){let{components:t,...o}=e;return(0,s.kt)(u,(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"There are several events dispatched in the execution of a process. There is a start\nand end process events that can be observed for managing processes themselves. There\nare before and after node events that gets dispatched for each node. These can be\nused for cycle detection, debugging, or telemetry."),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://github.com/cybermantix/feral-core/tree/master/src/Process/Event"},"Events Namespace")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("em",{parentName:"li"},"ProcessStartEvent")," - Dispatched before a process runs"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("em",{parentName:"li"},"ProcessEndEvent")," - Dispatched after a process runs"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("em",{parentName:"li"},"ProcessNodeBeforeEvent")," - Dispatched before a node is processed"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("em",{parentName:"li"},"ProcessNodeAfterEvent")," - Dispatched after a node is processed"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("em",{parentName:"li"},"ProcessExceptionEvent")," - Dispatched if there is an exceptinon. Note, this is process engine dependent"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("em",{parentName:"li"},"ProcessNodeNotifyEvent")," - Dispatched by a node if its needs to notify the event dispatcher.")),(0,s.kt)("h2",{id:"cycledetectionprocesssubscriber"},"CycleDetectionProcessSubscriber"),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://github.com/cybermantix/feral-inline/blob/master/src/Process/Event/Listener/CycleDetectionProcessSubscriber.php"},"See ",(0,s.kt)("strong",{parentName:"a"},(0,s.kt)("inlineCode",{parentName:"strong"},"CycleDetectionProcessSubscriber")))),(0,s.kt)("p",null,"The Feral Inline package contains a cycle detection class that listens for nodes that are processed more times\nthan they should. The Cycle Detection class is a process subscriber that subcribes to the StartProcess\nand BeforeNode events."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"    public static function getSubscribedEvents(): array\n    {\n        return [\n            ProcessStartEvent::class => ['onStartProcess'],\n            ProcessNodeBeforeEvent::class => ['onBeforeNode']\n        ];\n    }\n")),(0,s.kt)("h2",{id:"loggerprocesssubscriber"},"LoggerProcessSubscriber"),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://github.com/cybermantix/feral-inline/blob/master/src/Process/Event/Listener/LoggerProcessSubscriber.php"},"See ",(0,s.kt)("strong",{parentName:"a"},(0,s.kt)("inlineCode",{parentName:"strong"},"LoggerProcessSubscriber")))),(0,s.kt)("p",null,"The logger process subscriber listens for the process events and logs them to the PSR logger interface."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"    public static function getSubscribedEvents(): array\n    {\n        return [\n            ProcessStartEvent::class => ['onStartProcess'],\n            ProcessEndEvent::class => ['onEndProcess'],\n            ProcessNodeBeforeEvent::class => ['onBeforeNode'],\n            ProcessNodeAfterEvent::class => ['onAfterNode'],\n            ProcessExceptionEvent::class => ['onProcessException'],\n            ProcessNodeNotifyEvent::class => ['onNodeNotify'],\n        ];\n    }\n")),(0,s.kt)("h2",{id:"profilerprocesssubscriber"},"ProfilerProcessSubscriber"),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://github.com/cybermantix/feral-inline/blob/master/src/Process/Event/Listener/ProfilerProcessSubscriber.php"},"See ",(0,s.kt)("strong",{parentName:"a"},(0,s.kt)("inlineCode",{parentName:"strong"},"ProfilerProcessSubscriber")))),(0,s.kt)("p",null,"The profilers subscriber is used with Symfony to show the process flow in the Symfony Profiler.\nThis is used for debugging only."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Profiler Example",src:r(65).Z,width:"2130",height:"1712"})),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"    public static function getSubscribedEvents(): array\n    {\n        return [\n            ProcessStartEvent::class => ['onStartEvent'],\n            ProcessEndEvent::class => ['onEndEvent'],\n            ProcessNodeBeforeEvent::class => ['onNodeBeforeEvent'],\n            ProcessNodeAfterEvent::class => ['onNodeAfterEvent']\n        ];\n    }\n")))}d.isMDXComponent=!0},65:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/symfony-profiler-example-e2fe4ba5346a5df5fb9871339df69aab.png"}}]);